import sys

def getKey(line):
    parts = line.split('=')
    return parts[0].strip()

def getDictFromLine(line):
    parts = line.split('=')
    allField = parts[1]
    fields = allField.split(',')
    res = {}
    for field in fields:
        field = field.strip()
        tmp = field.split(':')
        res[tmp[0]] = tmp[1]
    return res

def getData(data_filename):
    with open(data_filename, 'r') as f:
        fstr = f.read()
    res = {}
    lines = fstr.split('\n')
    for line in lines:
        if line.strip() == "":
            continue
        key = getKey(line)
        res[key] = getDictFromLine(line)
    return res

def getDataTable(data):
    map_markup = [
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
        [1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1],
        [1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1],
        [1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
        [1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
        [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
        [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0]
    ]
    res = [
        [{"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}],
        [{"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}],
        [{"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}],
        [{"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}],
        [{"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}],
        [{"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}],
        [{"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}],
        [{"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}],
        [{"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}, {"":{"":""}}]
    ]
    data_keys = data.keys()
    inx = 0
    for i in range(9):
        for j in range(19):
            if map_markup[i][j] == 1:
                res[i][j] = {data_keys[i]:data[data_keys[i]]}
    return res

if __name__ == '__main__':
    data = getData("periodic_table.txt")
    data_table = getDataTable(data)
    # print(data)
    # for d in data:
    #     print(d, ":")
    #     for dd in data[d]:
    #         print('\t\t', dd,":",data[d][dd])


# Не хранить все в массиве, а передавать строку с файла и сразу с нее заполнять ячейку